from datetime import datetime
import time
try:
    import json
except ImportError:
    import simplejson as json
import unittest
from utils.relativedate import timesince

class RelativeDateTimeTest(unittest.TestCase):
    
    times = {
             "2014-12-11T08:49:13.951630",
             "2014-12-11T08:57:01.597930",
             "2014-12-11T08:49:15.935440",
             "2014-12-11T09:01:34.923590",
             "2014-12-11T08:50:56.640470",
             "2014-12-11T08:50:28.570070",
             "2014-12-11T08:55:37.095290",
             "2014-12-11T08:57:08.585420",
             "2014-12-11T08:51:25.374590",
             "2014-12-11T09:10:57.469880",
             "2014-12-11T08:51:19.751460",
             "2014-12-11T08:54:02.119270",
             "2014-12-11T08:57:03.045440",
             "2014-12-11T09:14:29.988130",
             "2014-12-12T13:34:36.592190",
             "2014-12-13T10:27:57.676180",
             "2014-12-13T10:29:49.882640",
             "2014-12-13T10:10:16.715610",
             "2014-12-13T10:47:22.722600",
             "2014-12-11T08:52:59.387350",
             "2014-12-11T09:11:10.155700",
             "2014-12-11T08:50:44.593840",
             "2014-12-12T13:24:43.683420",
             "2014-12-11T08:52:03.559430",
             "2014-12-11T09:16:41.615990",
             "2014-12-11T09:00:45.995370",
             "2014-12-11T08:56:44.871010",
             "2014-12-11T08:50:34.010440",
             "2014-12-11T08:57:05.978850",
             "2014-12-11T08:50:10.487930",
             "2014-12-12T13:26:01.961860",
             "2014-12-12T13:23:55.303330",
             "2014-12-12T13:24:41.927290",
             "2014-12-11T08:50:55.188320",
             "2014-12-12T13:26:01.695180",
             "2014-12-11T08:52:59.386310",
             "2014-12-11T08:50:56.344010",
             "2014-12-13T10:27:57.881330",
             "2014-12-11T09:16:41.622750",
             "2014-12-11T09:00:45.991250",
             "2014-12-11T08:51:25.366370",
             "2014-12-12T13:23:55.443700",
             "2014-12-11T09:11:10.625390",
             "2014-12-11T08:56:44.855800",
             "2014-12-13T10:29:49.990720",
             "2014-12-13T10:10:16.763130",
             "2014-12-11T09:10:57.467250",
             "2014-12-13T10:47:23.562370",
             "2014-12-11T08:57:08.118510",
             "2014-12-11T08:51:20.010100",
             "2014-12-11T08:54:02.263720",
             "2014-12-12T13:34:36.709120",
             "2014-12-11T08:55:37.244750",
             "2014-12-11T09:14:29.989320",
             }
    
    def test_relative_datetime(self):
        times = []
        for tracking_time in self.times:
            tracking_time = time.strptime(tracking_time, "%Y-%m-%dT%H:%M:%S.%f")
            times += [timesince(time, datetime.now())]
        self.assertIsNotNone(times)
        
if __name__ == "__main__":
    unittest.main()
